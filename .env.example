# =============================================================================
# Database Configuration (Vercel Postgres)
# =============================================================================
# Get these from Vercel Dashboard -> Storage -> Your Postgres DB -> Settings

# Pooled connection for runtime queries
POSTGRES_PRISMA_URL="postgres://user:password@host:5432/database?sslmode=require&pgbouncer=true"

# Direct connection for migrations
POSTGRES_URL_NON_POOLING="postgres://user:password@host:5432/database?sslmode=require"

# =============================================================================
# AEO Analyzer Configuration
# =============================================================================
# All values have safe defaults. Override as needed.

# Rate Limiting
AEO_RATE_LIMIT_PER_HOUR=10         # Max scans per IP per hour (default: 10)
AEO_DOMAIN_LIMIT_PER_DAY=50        # Max scans per domain per day (default: 50)

# Timeouts
AEO_FETCH_TIMEOUT_MS=12000         # Fetch timeout in ms (default: 12000)
AEO_RENDER_TIMEOUT_MS=15000        # Playwright render timeout in ms (default: 15000)

# Size Limits
AEO_MAX_HTML_BYTES=2000000         # Max HTML size in bytes (default: 2MB)
AEO_MAX_TEXT_CHARS=200000          # Max extracted text chars (default: 200k)
AEO_MAX_REDIRECTS=5                # Max redirects to follow (default: 5)

# Security - REQUIRED in production
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
AEO_IP_HASH_SALT=your-random-salt-here

# Playwright (optional rendering fallback for JS-heavy pages)
PLAYWRIGHT_ENABLED=false

# =============================================================================
# Email Notifications (optional)
# =============================================================================
# Get your API key from https://resend.com
RESEND_API_KEY=re_xxxxxxxxxx
# Email address to receive audit notifications
NOTIFICATION_EMAIL=you@example.com

# =============================================================================
# Sanity Configuration (for Notes/Blog)
# =============================================================================
# Get your project ID from https://sanity.io/manage
NEXT_PUBLIC_SANITY_PROJECT_ID=your-project-id
NEXT_PUBLIC_SANITY_DATASET=production
